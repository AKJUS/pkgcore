#!/usr/bin/env pkgcore-ebuild-helper
# Copyright: 2011 Brian Harring <ferringb@gmail.com>
# License: GPL2/BSD 3 clause


check_args 2

ln_option=
src_prefix=
if [[ ${HELPER_NAME} == dosym ]]; then
	# T while nonportable, is to ensure that if there is a directory
	# conflict, it doesn't just create the sym w/in
	ln_option=snT
else
	src_prefix="${D}"
fi

check_command_or_stop dodir "${2%/*}"
check_command ln -${ln_option}f "${src_prefix}${1}" "${D}${2}"
