[metadata]
label = 'metadata cache'
type = cache
class = pkgcore.cache.metadata.database
readonly = true
location = /usr/portage

[flat_hash]
label = 'tmp'
type = cache
class = pkgcore.cache.flat_hash.database
location = /home/bharring/tmp-cache

[rsync repo]
type = repo 
class = pkgcore.ebuild.repository.tree
location = /usr/portage
cache = 'metadata'

[vdb]
type = repo
class = pkgcore.vdb.repository
location = /var/db/pkg

[fetcher]
type = fetcher
distdir = "/mnt/scratch/distfiles"


[base config]
USE = -* 3dnow 3dnowext X a52 aac alsa bitmap-fonts bzip2 cjk crypt dga divx4linux doc dv encode ffmpeg flac glep lzo mad matroska mbox mmx mmxext mp3 mpeg mpeg2 ncurses nls nptl nptlonly ogg oggvorbis pam readline sandbox sdl slang sse sse2 ssl tcpd threads truetype truetype-fonts unicode usb vorbis win32codecs xml xml2 xvid zlib
#nptl nptlonly -gnome -oss mad matroska faad mpg avi -arts mmx mmxext flac bidi dvd ssl sdl xvid 3dnow 3dnowext 
#	sse sse2 mythtv rtc -svga -ipv6 win32codecs -esd
#FEATURES = confcache parallel-fetch
FEATURES="confcache"
#package.use = %(CONFDIR)/package.use
#package.mask = %(CONFDIR)/package.mask
#package.unmask = %(CONFDIR)/package.unmask
#package.keywords = %(CONFDIR)/package.keywords

[profile]
type = profile
base_repo = 'rsync repo'
profile = default-linux/amd64/2005.0

[x86]
CFLAGS = "-O2 -march=pentium4 -pipe"
CHOST = "i686-pc-linux-gnu"
profile = profile
inherit = 'base config'
ACCEPT_KEYWORDS = ~amd64
bashrc = /etc/portage/bashrc

[livefs domain]
type = domain
package.keywords = /etc/portage/package.keywords
inherit = x86
default = yes
#ACCEPT_LICENSE = GPL-2 GPL
repositories = "rsync repo" 
fetcher = fetcher
# development override
vdb = vdb

[system]
type = pkgset
class = pkgcore.pkgsets.system.SystemSet
profile = profile

[world]
type = pkgset
class = pkgcore.pkgsets.world.FileList

[glsa]
type = pkgset
class = pkgcore.pkgsets.glsa.SecurityUpgrades
ebuild_repo = 'rsync repo'
vdb = vdb
