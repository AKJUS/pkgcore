#!/usr/bin/env python

"""Wrapper script that messes with sys.path and runs scripts.

This should only be run from inside the "bin" subdir of a pkgcore
checkout or unpacked tarball. It adds the parent of that "bin" dir to
sys.path unconditionally.
"""

import os.path as osp
import sys

sys.path.insert(0, osp.dirname(osp.dirname(osp.abspath(__file__))))

from pkgcore.util import modules, commandline


if __name__ == '__main__':
    name = osp.basename(sys.argv[0])
    script = modules.load_module('pkgcore.scripts.%s' % (name,))
    commandline.main(script.OptionParser(), script.main)
